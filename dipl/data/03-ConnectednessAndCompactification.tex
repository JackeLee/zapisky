\chapter{Connectedness and compactification}

Compactness, connectedness and variants of disconnectedness are standard properties of topological spaces.
In this chapter, we will prove some well--known facts from Set theoretical topology in the context of point--free topology.

\section{Connectedness and variants of disconnectedness}
\begin{definition}
    We say that a frame $L$ is \DEF{disconnected} if $L$ contains non-trivial elements $a$ and $b$ (that is, different from the top and the bottom of $L$) such that $a\vee b = 1$ and $a\wedge b = 0$. If a frame is not disconnected, we say that it is \DEF{connected}.
\end{definition}

\begin{observation}\label{p:disconnectednessEquivalently}
    For a frame $L$, the following conditions are equivalent:

    \begin{enumerate}
        \item $L$ is disconnected.
        \item There exists a non-trivial (that is, other than $\emptyFrm$ and $L$) sublocale that is both open and closed.
        \item There exists an one-one frame homomorphism $f\colon $\DEFSYM{B2}{$B_2$}$ \to L$, where $B_2$ is the Boolean algebra on four elements.
    \end{enumerate}
\end{observation}

\begin{lemma}
    Let $L$ be a frame. The following are equivalent:

    \begin{enumerate}
        \item Closure of each open sublocale of $L$ is open.
        \item For all $a \in L$: $\closure{\mathfrak{o}(a)} = \mathfrak{o}(a^{**})$.
        \item For all $a \in L$: $a^{**} \vee a^* = 1$.
    \end{enumerate}
\end{lemma}
\begin{proof}
    The implication from 2 to 1 is trivial. For the implication from 3 to 2, first observe that
    \begin{align*}
        \open(a^{**})\vee \open(a^*) &= \open(a^{**}\vee a^*) = \open(1) = L, \text{ and} \\
        \open(a^{**})\wedge \open(a^*) &= \open(a^{**}\wedge a^*) = \open(0) = \emptyFrm.
    \end{align*}

    \noindent However, $\open(a^*)$ is complemented with $\clos(a^*)$. In other words
    \begin{align*}
        \clos(a^*)\vee \open(a^*) &= L, \text{ and} \\
        \clos(a^*)\wedge \open(a^*) &= \emptyFrm.
    \end{align*}

    \noindent By distributivity of the frame of all all sublocales of $L$, $\open(a^{**}) = \clos(a^*) = \closure{\open(a)}$.

    Finally, for the implication from 1 to 3: $\closure{\open(a)} = \clos(a^*) = \open(b)$ for some $b \in L$, hence
    \begin{align*}
        \open(a^*\vee b) &= \open(a^*)\vee   \open(b) = L, \text{ and} \\
        \open(a^*\wedge b) &= \open(a^*)\wedge \open(b) = \emptyFrm.
    \end{align*}

    \noindent Thus $a^*$ is complemented with $b$ and $b = a^{**}$ from the uniqueness of complements.
\end{proof}

\begin{definition}
    A frame satisfying conditions 1, 2 and 3 from the previous Lemma is called \DEF{extremally disconnected} or \DEF{De Morgan}.

    \vspace{0.8em}
    A frame $L$ is said to be \DEF{zero--dimensional} if every element is a join of complemented elements.
\end{definition}

\begin{observation}
    \begin{enumerate}
        \item Any zero--dimensional frame is completely regular.
        \item Any regular and extremally disconnected frame is zero--dimensional.
    \end{enumerate}
\end{observation}
\begin{proof}
    \begin{enumerate}
        \item For every complemented $a$, we have $a \crbelow a$. Therefore by zero--dimensionality,
            $$e = \bigvee \Set{ c | c \leq e, c \text{ is complemented}} \leq \bigvee \Set{ x | x \crbelow e} \leq e$$

            \noindent for each $e$.

        \item Note that $x \rbelow y$ implies $x^{**} \rbelow y$. Since $x \leq x^{**}$ and every element of the form $x = x^{**}$ is complemented in extremally disconnected frame, we obtain a frame is zero--dimensional.
    \end{enumerate}
\end{proof}

\num Note that in the classical terminology, a topological space is \emph{connected}, \emph{disconnected}, \emph{zero--dimensional} or \emph{extremally disconnected} if and only if the frame of its open sets is connected, disconnected, zero--dimensional or extremally disconnected.

\newpage
\section{Compactness and compactification}

\begin{definition}
    A frame $L$ is \DEF{compact} if for every \DEF{cover}, that is a subset $C \subseteq L$ such that $\bigvee C = 1$, there exists a finite subcover (a finite $F \subseteq C$ such that $\bigvee F = 1$).
\end{definition}

\begin{proposition}\label{p:compRegIsCR}
    If $L$ is a compact regular frame then $L$ is completely regular.
\end{proposition}
\begin{proof}
    It suffices to check that $L$ is normal. Then by the Proposition in \ref{p:normalRegular}, $L$ is also completely regular. Let $a, b \in L$ and let $a\vee b = 1$. Then from regularity, we know that
    $$ a = \bigvee \Set{ x | x \rbelow a}\quad\text{and}\quad b = \bigvee \Set{ y | y \rbelow b}.$$

    Set $A = \Set{ x | x \rbelow a}$ and $B = \Set{ y | y \rbelow b}$. Since $\bigvee A \vee \bigvee B = 1$, by compactness, there exists a finite $F \subseteq A\cup B$, such that $\bigvee F = 1$. From~\ref{p:rbellowProperties}, $f_a = \bigvee (F\cap A) \rbelow a$ and $f_b = \bigvee (F\cap B) \rbelow b$. Further,

    $$
    (f_a\wedge f_b^*)\vee b = (f_a\vee f_b)\wedge (f_b^*\vee b) = (\bigvee F)\wedge 1 = 1.
    $$

    \noindent By the same argument, $(f_b\wedge f_a^*)\vee a = 1$. And $(f_b\wedge f_a^*)\wedge (f_a\wedge f_b^*) = 0$, therefore $L$ is normal.
\end{proof}

\num\label{p:frameOfIdeals}{\bf The frame of ideals.} Let $L$ be a join--semilattice with 0. Denote by $\J L$ the set of all ideals of $L$. We will show that $\J L$ ordered by inclusion is a frame. Set intersections of ideals are again an ideal and hence (by~\ref{p:completeLattice}) $\J L$ is a complete lattice. For the suprema we have the explicit formula.

    Let $I_i \in \J L$, for $i \in J$, and set
    \begin{align*}
        \bigvee_{i\in J} I_i = \set{ \bigvee F | F\text{ is a finite subset of } \bigcup_{i\in J} I_i}.\label{e:idealJoin}\tag{Idl-$\bigvee$}
    \end{align*}

    \noindent The set defined this way is again an ideal and it is the supremum of $\Set{ I_i | i\in J}$. Also, for any ideals $J$ and $I_i$ of $L$, for $i \in J$, the following equality holds
    $$(\bigvee_i I_i) \cap J = \bigvee_i (I_i \cap J).$$

    \noindent The $\supseteq$ inclusion is trivial, for the other inclusion take $x\in J$ such that $x = \bigvee F$ for some finite $F \subseteq \bigcup_i I_i$. Then $F \subseteq J$ (as $J$ is an ideal) and also $F \subseteq \bigcup_i (I_i \cap J)$. We get, $x \in \bigvee_i (I_i \cap J)$. Thus, $\J{L}$ is a frame.

    Moreover, $\J L$ is a compact frame: Let $I_i \in \J L$, for $i \in J$, such that $\bigvee_i I_i = L = 1_{\J L}$, then there exists a finite $F \subseteq \bigcup_i I_i$ such that $\bigvee F = 1$. Set $i(f) \in J$ such that $f \in I_{i(f)}$ for all $f \in F$. Then also $\bigvee_{f \in F} I_{i(f)} = 1_{\J L}$. Therefore $\J L$ is a compact frame.

\begin{blockProp*}{Conclusion}
    The set $\J L$ ordered by inclusion is a compact frame.
\end{blockProp*}

\begin{definition}
    We say a frame homomorphism $f\colon L \to M$ is \DEF{dense}[ frame homomorphism] if $f(a) = 0$ implies $a = 0$.

    We say a compact frame $K$ together with a frame homomorphism $c\colon K \to L$ is the \DEF[Cech--Stone compactification@]{(Čech--Stone) compactification} of a frame $L$ if $c$ is dense and for every dense frame homomorphism $d\colon K' \to L$, with $K'$ compact regular, there exists an unique frame homomorphism $\tilde d\colon K \to K$ such that the following diagram commutes
    \begin{diagram}
        K\ar{r}{c}& L \\
        K'\ar[dashed]{u}{\tilde d} \ar{ur}{d} &
    \end{diagram}
\end{definition}

\begin{observation}
    If the Čech--Stone compactification exists, it is determined uniquely, up to isomorphism.
\end{observation}

The following construction is due to Banaschewski and Mulvey~\cite{banaschewski1984stone}.

\num {\bf Regular ideals and a frame of regular ideals.} Let $L$ be a completely regular frame. We say an ideal $I$ is \DEF{regular}[ ideal] if for any $a \in I$ there exists a $b \in I$ such that $a\crbelow b$. Denote by \DEFSYM{RegIdeals}{$\R L$} the set of all regular ideals of $L$.

    For two regular ideals $I_1, I_2\in \R L$, their set intersection is again a regular ideal. Indeed, take any $a \in I_1\cap I_2$, then $a\crbelow b_i$ for some $b_i \in I_i$ and $a\crbelow b_1 \wedge b_2\in I_1\cap I_2$ from~\ref{p:crbellowProperties}.

    For any regular ideals $J$ and $I_i$ of $L$, for $i \in J$, from previous we know that $\bigvee_{i\in J} I_i$ is an ideal. We will show that it is a regular ideal. For $a \in \bigvee_{i\in J} I_i$, by~(\oldref{e:idealJoin}), there exists a finite $F \subseteq \bigcup_{i\in J} I_i$ such that $a = \bigvee F$. For every $f \in F$ there exists an $e_f \in I_j$, for some $j\in J$, such that $f \crbelow e_f$. But $\bigvee_{f\in F} e_f \in \bigvee_{i\in J} I_i$ and, from~\ref{p:crbellowProperties}$, \bigvee F \crbelow \bigvee_{f\in F} e_f$.

    Hence, the set $\R L$ is a subframe of $\J L$. Consequently, $\R L$ is compact.

\num For an $a \in L$, set
    $$\sigma_L(a) = \Set{ x | x \crbelow a}.$$

\noindent This set is a regular ideal. We will omit the subscript if the frame $L$ is obvious.

    The following property of $\sigma$ will be expedient: $\sigma(a) \rbelow \sigma(b)$ for any $a\crbelow b$.
\begin{center}
\parbox{0.85\linewidth}{
    (\emph{Proof.} First, interpolate $a \crbelow x\crbelow y\crbelow b$. By~\ref{p:crbellowProperties}, $x^*\crbelow a^*$ and $x^*\in \sigma(a^*)\subseteq \sigma(a)^*$. Since $y\in \sigma(b)$ and $x^*\vee y = 1$, we have $\sigma(a)^*\vee \sigma(b) = 1_{\R L}$.\qed)
}
\end{center}

\begin{proposition}
    $\R L$ is completely regular.
\end{proposition}
\begin{proof}
    We will show that $\R L$ is regular, then it is also completely regular from Proposition~\ref{p:compRegIsCR} and from the fact that $\R L$ is compact. Given any $I\in \R L$,
    $$I = \bigcup \Set{ \sigma(a) | a\in I} = \bigvee \Set{ \sigma(a) | a\in I} = \bigvee \Set{ \sigma(a) | a\crbelow b\in I}.$$

    We know that $a\crbelow b$ implies $\sigma(a) \rbelow \sigma(b)$ and we also know that $b\in I$ implies $\sigma(b)\subseteq I$, hence
    $$I \subseteq \bigvee \Set{ \sigma(a) | \sigma(a)\rbelow \sigma(b)\subseteq I} \subseteq \bigvee \Set{ \sigma(a) | \sigma(a)\rbelow I} \subseteq \bigvee \Set{ K | K\rbelow I}\subseteq I.\qedhere$$
\end{proof}


\num\label{p:compactificationFunctor}{\bf The functor \C{}.} Now, we are ready to define a functor from the category of completely regular frames to the category of compact regular frames. Denote by
    $$\DEFSYM{compactificationFunctor}{\C}\colon \CRegFrm \to \RegKFrm$$

    \noindent the following two mappings. On objects:
    $$\C(A) = \R A,$$

    \noindent for every completely regular frame $A$, and on morphisms:
    $$ (\C f)(I) = \downset f[I],$$
    \noindent for every morphism frame homomorphism $f\colon L \to M$ and $I \in \R L$.

    The set $f[I]$ is obviously closed under finite meets, hence $\downset f[I]$ is an ideal. From the fact that $a\crbelow b$ implies $f(a)\crbelow f(b)$, we see that $\downset f[I]$ is a regular ideal. Further, we observe that

    \begin{itemize}
        \item $\C f$ preserves joins:
        \begin{align*}
            (\C f)(\bigvee_i I_i) &= \downset f[\set{ \bigvee F | F\text{ a finite subset of } \bigcup_i I_i}] \\
                &= \downset \set{ \bigvee F | F\text{ a finite subset of } \bigcup_i f[I_i]} \\
                &= \set{ \bigvee F | F\text{ a finite subset of } \bigcup_i \downset f[I_i]} \\
                &= \bigvee_i (\C f)(I_i); \text{ and that}
        \end{align*}

        \item $\C f$ preserves finite meets:
        $$ (\C f)(I_1\cap I_2) = \downset f[I_1\cap I_2] \subseteq \downset f[I_1]\cap \downset f[I_2] = (\C f)(I_1)\cap (\C f)(I_2). $$

        \noindent For $x \in \downset f[I_1]\cap \downset f[I_2]$, there exists $y_i\in I_i$, for $i = 1,2$, such that $f(y_1) = f(y_2) = x$. Since $f$ is a frame homomorphism, $f$ preserves finite meets, hence $f(y_1\wedge y_2) = f(y_1)\wedge f(y_2) = x$. We know that $y_1\wedge y_2 \in I_1\cap I_2$, therefore $x\in \downset f[I_1\cap I_2]$.

    \end{itemize}

    We obtain that $\C f$ is a frame homomorphism. As a result, we have the following

    \begin{proposition*}
        $\C$ is a functor.
    \end{proposition*}

\num For a completely regular frame $L$, define \DEFSYM{compactification}{$\comp_L$}$\colon \C L\to L$ as follows:
    $$\comp_L\colon I \mapsto \bigvee I.$$

    We see that
    \begin{align}
        \comp_L\sigma(a) = a\quad\text{and}\quad \sigma\comp_L(I) \subseteq I.\label{e:compactificationInequality}
    \end{align}

    \noindent Since both $\comp_L$ and $\sigma$ are monotone maps, we see that they form a Galois ajdunction, with $\comp_L$ to the left and $\sigma$ to the right. Hence, $\comp_L$ preserves joins. It also preserves finite meets: $\bigvee I_1 \wedge \bigvee I_2 = \bigvee \Set{a_1 \wedge a_2 | a_i \in I_i} \leq \bigvee \Set{ a | a \in I_1 \cap I_2 } = \bigvee (I_1 \cap I_2) \leq \bigvee I_1 \wedge \bigvee I_2$.

    Consequently, $\comp_L$ is a frame homomorphism and $\sigma$ is a localic map. Observe that $\comp_L$ is also dense: $\bigvee I = 0$ implies $I = \{0\}$.


\num The following diagram commutes

\begin{diagram}
    \C L\ar{r}{\comp_L}\ar{d}{\C f} & L\ar{d}{f} \\
    \C M\ar{r}{\comp_M}             & M
\end{diagram}

\noindent for any frame homomorphism $f\colon L\to M$ between completely regular frames (since $(\comp_M\cdot \C f)(I) = \bigvee (\downset f[I]) = \bigvee f[I] = f[\bigvee I] = f \comp_M(I)$).
    Thus, $\comp_*\colon \C{} \natto \Id$ is a natural transformation

\begin{lemma}
    If $L$ is a compact regular frame, then $\comp_L$ is an isomorphism and $L \cong \C L$.
\end{lemma}
\begin{proof}
    Let $I$ be a regular ideal of $L$. We already know that $\sigma\comp_L(I) \supseteq I$. For $x \in \sigma\comp_L(I)$, we have $x \crbelow \bigvee I$, hence $x^*\vee \bigvee I= 1$. By compactness of $L$, there exists a finite $F \subseteq I$ such that $x^*\vee \bigvee F = 1$. But $\bigvee F\in I$ and $x\crbelow \bigvee F$, hence $x$ belongs to $I$ and $\sigma\comp_L(I) \subseteq I$.

    Regular ideals of $L$ are precisely the ideals of the form $\sigma(a)$. Thus, $\comp_L$ is an one-one frame homomorphism and consequently $\comp_L$ is an isomorphism.
\end{proof}

\num From the previous we obtain

\begin{theorem*}\label{p:universalCompactification}
    The functor \C{} and the natural transformation $\comp_*$ provides a coreflection of the category of completely regular frames onto the category of compact regular frames.

    In other words, for a completely regular frame $L$, the mapping $\comp_L\colon \C L \to L$ is the compactification of $L$.
\end{theorem*}

\num Note that a topological space is \emph{compact} if and only if the frame of its open sets is compact.

\num As a consequence of Hofmann--Lawson's Duality~\cite{hofmann1978spectral} (which depends on the Axiom of Choice), we obtain
\begin{theorem*}\label{p:HLDuality}
    The category of compact regular frames is isomorphic to the dual of the category of compact regular spaces.

    In particular each regular compact frame is spatial.\ACP
\end{theorem*}


\section{Properties of compactification with respect to disconnectedness}

\begin{proposition}
    A completely regular frame is disconnected iff its Čech--Stone compactification is disconnected.
\end{proposition}
\begin{proof}
    For a completely regular frame $L$, if $L$ is disconnected, then by~\ref{p:disconnectednessEquivalently} there exists a one-one frame homomorphism $f\colon B_2\to L$. From~\ref{p:universalCompactification}, we know that there exists an extension, a frame homomorphism $\tilde f\colon B_2\to \C L$, such that $\comp_L \tilde f = f$. Since $f$ is one-one, $\tilde f$ is also one-one.

    For converse, suppose $\C L$ is disconnected. There exists a non-trivial clopen sublocale $S$ of $\C L$, and then $S\cap L$ is a non-trivial clopen sublocale of $L$.
\end{proof}

For the clarity of proofs, when there is no danger of confusion, we will write just $\closure{S}$ instead of $\closure{S}^{\C L}$ for the closure of a sublocale $S\subseteq \C L$, whereas we will write $\closure{S}^L$ for the closure of $S$ in $L$.

\begin{lemma}\label{p:closureIntersectedByDense}
    Let $S$ be a dense sublocale of $L$ and let $U\subseteq L$ be an open sublocale. Then $\closure{U\cap S}^L = \closure{U}^L$.
\end{lemma}
\begin{proof}
    Let $U = \open(a)$, for some $a$, then $\bigwedge (\open(a)\cap S) = \bigwedge \Set{ a\to s | s \in S } = a\to \bigwedge S$. We have $\bigwedge S = 0$, since $S$ is dense in $L$ (and includes $0_L$). Hence $\closure{U\cap S}^L = \upset (\bigwedge (U\cap S)) = \upset(a\to 0) = \clos(a^*) = \closure{U}^L$.
\end{proof}

\begin{lemma}\label{p:closureOfClopen}
    Let $L$ be a completely regular frame and let $M$ be a clopen sublocale of $L$, then the closure of $M$ in $\C L$ is also clopen.
\end{lemma}
\begin{proof}
    Let $N$ be the complement sublocale of $M$ in $L$. $L$ is dense in $\C L$, hence we have
    $$ \closure M\vee \closure N = \closure {M\vee N} = \closure {\closure{M\vee N}^L} = \closure L = \C L. $$

    Since $M$ and $N$ are complemented in $L$, there exists an onto localic map $f\colon L\to B_2$ such that
    $$ f[M] \subseteq \upset a\quad\text{and}\quad f[N]\subseteq \upset b, $$

    \noindent where $a$ and $b$ are the two complemented elements of $B_2$ different from $0$ and $1$.
    From Theorem~\ref{p:universalCompactification}, we know that there exists a localic map $\tilde f\colon \C L\to B_2$ such that $\restr{\tilde f}{M} = f$.
    Since localic maps preserve meets, we know that $f[\closure M]\subseteq \closure{f[M]}$, hence
    $$ \tilde f[\closure{M}] \subseteq \closure{\tilde f[M]} = \closure{f[M]} \subseteq \upset a\quad\text{and}\quad \tilde f[\closure{N}] \subseteq \upset b. $$

    \noindent By the Proposition in~\ref{p:preimageOfSublocales},
    $$ \closure M \subseteq f^{-1}[\upset a] = \upset f_*(a) \quad\text{and}\quad \closure N \subseteq f^{-1}[\upset b] = \upset f_*(b), $$
    and therefore, for $m = \bigwedge M$ and $n = \bigwedge N$,
    $$ m \geq f_*(a)\quad\text{and}\quad n \geq f_*(b).$$

    \noindent Finally, from $m\vee n \geq f_*(a)\vee f_*(b) = f_*(a\vee b) = 1$ we have
    $$ \closure{M}\wedge \closure{N} = \clos(m)\wedge \clos(n) = \clos(m\vee n) = \clos(1) = \emptyFrm. $$
    Hence, $\closure{M}$ and $\closure{N}$ are mutually complemented sublocales of $\C L$.
\end{proof}

\begin{proposition}\label{p:extrDiscPreserv}
    Let $L$ be an extremally disconnected frame, then $\C L$ is also extremally disconnected.
\end{proposition}
\begin{proof}
    Let $U$ be an open sublocale of $\C L$. Take $V = U\cap L$ an open sublocale of $L$. We know that $\closure V^L = \closure{U\cap L}^L = \closure{U\cap L}\cap L = \closure U\cap L$ (the last equality follows from Lemma~\ref{p:closureIntersectedByDense}). From extremal disconnectedness, $\closure V^L$ is clopen in $L$ and, from Lemma~\ref{p:closureOfClopen}, $\closure{\closure V^L}$ is clopen in $\C L$. Then

    $$ \closure U = \closure{U\cap L} \subseteq \closure{\closure{V}^L} = \closure{\closure U\cap L} \subseteq \closure{\closure U} = \closure U.$$
\end{proof}

\begin{block}{Remark}
    Analogously to set topology, it is not always the case that Čech--Stone compactification of zero--dimensional frames is again zero--dimensional. Frames in which this is true are called strongly zero--dimensional~\cite{kou2002strongly}.
\end{block}
