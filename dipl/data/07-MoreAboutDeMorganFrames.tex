\chapter{More about De Morgan Frames}

In this chapter we present a new characterisation of completely regular frames which are also De Morgan (or extremally disconnectedness).
In the second part we extend the classical spacial result, that the compactification of a metrizable space is not metrizable, to context of point--free topology.

Both constructions are due to Professor Pultr.

\section{Density and superdensity}
% TODO
%   Recall the definition of sublocale, De Morgan = extremally disconnected, ...
%   and the compactification coreflection from chapter III.

\begin{lemma}\label{p:denseProperties}
    \begin{enumerate}
        \item If $gf$ is dense, then $f$ is also dense.
        \item If $g$ is dense and $f$ is dense, then $fg$ is dense.
    \end{enumerate}
\end{lemma}
\begin{proof}
    $f(a) = 0$ implies $gf(a) = g(0) = 0$, hence $a = 0$.
\end{proof}

\begin{lemma}\label{p:denseProperties2}
    Let $S$ be a sublocale of $L$. $S$ is dense in $L$ iff $\Bo S = \Bo L$.
\end{lemma}
\begin{proof}
    $\Rightarrow$: Suppose $S$ is dense sublocale, then pseudocomplements in $S$ are also pseudocomplements in $L$ (from the fact that $0_L\in S$ and $a^{*S} = a\to 0_L = a^{*L}$).
    From the definition of sublocale, we know $\Bo L = \Set{ x\to 0_L | x\in L}$ is a subset of $S$. Hence, if $x = x^{**}\in \Bo L$ then $x \in S$ and also $x \in \Bo S$. The other inequality, the $\Bo S\subseteq \Bo L$, is trivial.

    $\Leftarrow$: Follows simply from the fact that $a\leq a^{**}$, for any $a\in L$, and that $0_L = 0_L^{**} \in \Bo L = \Bo S$.
\end{proof}

\begin{proposition}\label{p:denseReflectDeMorgan}
    If $S$ is dense in $L$ and $L$ is De Morgan, then $S$ is De Morgan.
\end{proposition}
\begin{proof}
    Let $x\in S$. From the proof of the previous Lemma, we know that pseudocomplements in $S$ coincide with those in $L$. Since each sublocale is determined by some nucleus, from \ref{p:nuclProp}, we know that supremum in $S$ is greater or equal to supremum in $L$. Thus, $x^{**}\vee_S x^* \geq x^{**}\vee_L x^* = 1$.
\end{proof}

\begin{definition}
    Let $f\colon L\to S$ be a dense onto frame homomorphism. We say $S$ is \DEF{superdense} in $L$ or $f$ is \emph{superdense} if, for any compact regular $K$ and any frame homomorphism $h\colon K\to S$, there exists a frame homomorphism $g\colon K\to L$ such that the following diagram commutes

    \begin{diagram}
        L\ar{r}{f} & S\\
        K\ar[dashed]{u}{g}\ar{ur}{h}
    \end{diagram}
\end{definition}

\begin{lemma}
    Let $f$ be an onto frame homomorphism between completely regular frames, then $\C f$ is also onto.
\end{lemma}
\begin{proof}
    It immediately follows from the fact that $a\crbelow b$ implies $f(a)\crbelow f(b)$.
\end{proof}

\begin{proposition}\label{p:compactificationFromInside}
    Let $L$ be a completely regular frame and let $S$ be a sublocale of $\C L$ such that $L\subseteq S\subseteq \C L$. Then $\C S\cong \C L$.
\end{proposition}
\begin{proof}
    We will translate the proposition to the language of frames and frame homomorphisms. For an onto frame homomorphisms $i\colon S\to L$ and a $j\colon \C L \to S$ such that $ij$ equals to $\comp_L$, the compactification of $L$, we will prove that $\C S\cong \C L$.

    TODO $\C j$ is one-one
    % Because $\C$ is a functor, we have $\C i\cdot \C j = \C(\comp_L)$. From the fact that $\comp_L\colon \C L\to L$ is a coreflection, we get that $\C(\comp_L) = 1_{\C L}$ and $\C i$ is a monomorphism in $\Frm$. Hence, it is one-one.

    From the previous Lemma, we know that $\C j$ is onto. A frame homomorphism which is both onto and one-one is an isomorphism.
\end{proof}

\begin{observation}\label{p:superdenseProperties}
    \begin{enumerate}
        \item Let $f$ and $g$ be superdense, then $fg$ is also superdense.
        \item If $fg$ is superdense, then $f$ is superdense.
        \item Let $L$ be a completely regular and $S$ its sublocale. $S$ is superdense in $L$ iff $S$ is superdense in $\C L$.
    \end{enumerate}
\end{observation}
\begin{proof}
    1. and 2. are straightforward. For 3., the $\Rightarrow$ implication follows from 1. and the $\Leftarrow$ implication follows from 2.
\end{proof}

\begin{theorem}
    Let $L$ be a completely regular frame, then $L$ is De Morgan iff each dense sublocale $S\subseteq L$ is superdense.
\end{theorem}
\begin{proof}
    $\Rightarrow$:
    Given a dense sublocale $S$ of $L$ and an onto frame homomorphism $i\colon L\to S$. Let $M$ be a compact regular frame and let $h\colon M\to S$ be a frame homomorphism. We know that $S$ is dense in $\C L$ from Lemma~\ref{p:denseProperties}, and $\Bo S = \Bo\C(L)$ from Lemma~\ref{p:denseProperties2}. By Theorem~\ref{p:completePart2} for the complete part of Stone correspondence, we know that $\C L\cong \C\Bo\C(L)$.

    Hence, $\Bo S = \Bo\C(L) \subseteq S \subseteq \C L\cong \C\Bo\C(L).$. By Proposition~\ref{p:compactificationFromInside} we have that $\C S\cong \C L$ and $S$ is superdense in $\C L$. Therefore, there exists a frame homomorphism $g\colon M\to \C L$ such that the following diagram commutes
    \begin{diagram}
        \C L\ar{r}{\comp_L} & L\ar{r}{i} & S\\
        M\ar{u}{g}\ar{urr}{h}
    \end{diagram}
    Obviously, $\comp_L g$ is the desired homomorphism to $L$.

    $\Leftarrow$:
     We know that $\Bo L$ is extremally disconnected. Hence, its compactification, the $\comp_{\Bo L}\colon \C\Bo(L)\to \Bo L$, is also extremally disconnected by Proposition~\ref{p:extrDiscPreserv}.
     From the assumption, $\beta_L\colon L\to \Bo L$ is superdense, therefore there exists a frame homomorphism $f\colon \C\Bo(L)\to L$ such that $\beta_L f = \comp_{\Bo L}$.

    From Lemma~\ref{p:denseProperties} we know that $f$ is dense and from Proposition~\ref{p:denseReflectDeMorgan} we know that $L$ is De Morgan.
\end{proof}

\section{Non--metrizability of compactification}

In this section, we will show that the fact that some property, such as the extremal disconnectedness, is preserved by compactification is not automatic.
We will prove that non-trivial compactification of metrizable frame is never metrizable.

\begin{lemma}
    Let $L$ be a regular frame. Then, for each prime $p\in L$, $\clos(p) = \upset p = \{p,1\}$.
\end{lemma}
\begin{proof}
    Given $q > p$. From regularity we know that there exists an $a\in L$ such that
    $$ a\rbelow q\quad\text{and}\quad a\not\leq p. $$
    From meet--irreducibility of $p$ and from $a\wedge a^* = 0$, we have $a^*\leq p$. Hence, $q = p\vee q \geq a^*\vee q = 1$.
\end{proof}

\begin{proposition}\label{p:spatialCompactifAndPrime}
    Let $\C L$ be a spatial frame such that $\C L\not\cong L$. Then $\C L\cong \C(\open(a))$ for some prime $a\in \C L$.
\end{proposition}
\begin{proof}
    Suppose there is no prime $a\in\C L$ such that $L\subseteq \open(a)$, then $L\cap \clos(a)\neq \emptyFrm = \{1\}$ for all prime $a$. By the previous Lemma we know that $\clos(a) = \{a,1\}$, hence $L$ contains all prime elements of $\C L$.

    However, $\C L$ is spatial and each of its element is a meet of prime elements. Then $L\cong \C L$ since every sublocale is closed under meets, a contradiction. Hence, $L\subseteq \open(a)\subseteq \C L$ for some prime $a$ and from Proposition~\ref{p:compactificationFromInside} we have $\C L\cong \C(\open(a))$.
\end{proof}

\begin{definition}
    A topological space $X$ is said to be \emph{metrizable} if there exists a \emph{distance function} $\rho\colon X\times X\to [0,\infty)$ such that, for all $x,y,z\in X$,
    \begin{enumerate}[(M1)]
        \item $\rho(x,y) = 0$ if and only if $x = y$,
        \item $\rho(x,y) = \rho(y,x)$,
        \item $\rho(x,z) \leq \rho(x,y) + \rho(y,z)$;
    \end{enumerate}

    \noindent and the set $\Set{ B_\rho(x,q) | x\in X, q\in \mathbb Q}$ generates the topology on $X$, where $B_\rho(x,q) = \Set{ y \in X | \rho(x,y) < q}$.
\end{definition}

\begin{theorem}
    Let $K = \Omega(X)$ be a spatial compact regular frame with $X$ metrizable. Then $K\not\cong \C S$ for every sublocale $S\subsetneq K$.
\end{theorem}
\begin{proof}
    Suppose $S\subsetneq K$ is a sublocale such that $\C S\cong K$. By Proposition~\ref{p:spatialCompactifAndPrime}, $\C(\clos(a))\cong K$ for some prime $a$ and $\clos(a) = X\setminus \{x\}$ for some $x\in X$.

    We have,
    \begin{align}
        B_\rho(x, q)\cap (X\setminus \{x\}) \neq \emptyset,\quad\text{for all } q\in \mathbb{Q},\label{e:ballsIntersect}
    \end{align}
    where $\rho$ is the distance function on $X$. Otherwise, $X\setminus \{x\}$ would be a closed and compact subspace of $X$ and equal to $\C(X\setminus \{x\})$.

    By~(\oldref{e:ballsIntersect}) it is sound to choose a sequence $(a_n)_{n=1}^\infty$ (by (CDC)) such that
    \begin{align*}
        a_1 &\in X\setminus \{x\},\text{ and} \\
        a_{n+1} &\in B_\rho\left(x, \frac{\rho(x,a_n)}{2}\right)\cap (X\setminus \{x\}).
    \end{align*}

    % diameter set $\diam_\rho S = \sup \Set{\rho(x,y) | x,y\in X}.$
    \noindent For $i = 1,2,\dots$, set $U_i = B_\rho(x,\rho(x,a_i)/2)\cap (X\setminus \{x\})$. Then $\closure{U}_{i+1}\subseteq U_i$ and $U_i\setminus \closure{U}_{i+1} \neq \emptyset$, for all $i$.
    For a subspace $X_i = \closure{U}_{2i}\setminus U_{2i+3}$, set
    $$ A_i = \closure{U}_{2i}\setminus U_{2i+1}\quad\text{and}\quad B_i = \closure{U}_{2i+2}\setminus U_{2i+3}. $$

    \noindent $A_i$ and $B_i$ are disjoint closed subsets of $X_i$, therefore, from normality, there exists a continuous function $f_i$ such that
    $$ f_i[A_i] = \begin{cases} 0 & \text{ if }i\text{ is odd} \\ 1 & \text{ if }i\text{ is even}\end{cases}
       \quad\text{and}\quad
       f_i[B_i] = \begin{cases} 1 & \text{ if }i\text{ is odd} \\ 0 & \text{ if }i\text{ is even}\end{cases}. $$

    Set $X_0 = (X\setminus \{x\})\setminus U_2$. Observe that $X\setminus \{x\} = \bigcup_{i=0}^\infty X_i$, $X_i\cap X_j = \emptyset$ whenever $0<i<i+1<j$ and that $X_i\cap X_{i+1} = A_i = B_{i+1}$ for $i>0$.
    And finally, set

    $$ E = \bigcup_{i>0, \text{ odd}} A_i ~\cup \bigcup_{i>0, \text{ even}} B_i\quad\text{and}\quad F = \bigcup_{i>0, \text{ even}} A_i ~\cup \bigcup_{i>0, \text{ odd}} B_i. $$
    We see that $E$ and $F$ are disjoint closed subsets of $X\setminus \{x\}$.

    Define a constant function $f_0$ on $X_0$: $f_0(x) = 1$ for all $x\in X_0$, then $ f = \bigcup_{i=0}^{\infty} f_i $ is a function from $X\setminus \{x\}$ to $[0,1]$ which separates $E$ and $F$. Since $[0,1]$ is compact, there exists an extension $\tilde f\colon X \to [0,1]$. However, the value of $\tilde f(x)$ should be equal to 0 ($B_\rho(x,q)$ intersects $E$ for every $q\in \mathbb Q$) and it should also be equal to 1 ($B_\rho(x,q)$ intersects $E$ for every $q\in \mathbb Q$). We obtained a contradiction, therefore, such $S\subsetneq K$ cannot exist.
\end{proof}

% \begin{lemma}
%     For $L$ normal frame: $\sigma(x)\vee\sigma(x) = \sigma(x\vee y)$.
% \end{lemma}
